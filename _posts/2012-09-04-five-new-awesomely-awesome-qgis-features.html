---
layout: post
title: Five new awesomely awesome QGIS features
tags:
- FOSSGIS
- Open Source
- qgis
- Quantum GIS
status: publish
type: post
published: true
meta:
  superawesome: 'true'
  _edit_last: '4008903'
  jabber_published: '1346720912'
  tagazine-media: a:7:{s:7:"primary";s:53:"http://woostuff.files.wordpress.com/2012/09/roads.png";s:6:"images";a:10:{s:53:"http://woostuff.files.wordpress.com/2012/09/roads.png";a:6:{s:8:"file_url";s:53:"http://woostuff.files.wordpress.com/2012/09/roads.png";s:5:"width";i:932;s:6:"height";i:934;s:4:"type";s:5:"image";s:4:"area";i:870488;s:9:"file_path";b:0;}s:54:"http://woostuff.files.wordpress.com/2012/09/marcos.png";a:6:{s:8:"file_url";s:54:"http://woostuff.files.wordpress.com/2012/09/marcos.png";s:5:"width";i:711;s:6:"height";i:162;s:4:"type";s:5:"image";s:4:"area";i:115182;s:9:"file_path";b:0;}s:53:"http://woostuff.files.wordpress.com/2012/09/error.png";a:6:{s:8:"file_url";s:53:"http://woostuff.files.wordpress.com/2012/09/error.png";s:5:"width";i:504;s:6:"height";i:471;s:4:"type";s:5:"image";s:4:"area";i:237384;s:9:"file_path";b:0;}s:62:"http://woostuff.files.wordpress.com/2012/09/before_spacing.png";a:6:{s:8:"file_url";s:62:"http://woostuff.files.wordpress.com/2012/09/before_spacing.png";s:5:"width";i:692;s:6:"height";i:382;s:4:"type";s:5:"image";s:4:"area";i:264344;s:9:"file_path";b:0;}s:55:"http://woostuff.files.wordpress.com/2012/09/spacing.png";a:6:{s:8:"file_url";s:55:"http://woostuff.files.wordpress.com/2012/09/spacing.png";s:5:"width";i:692;s:6:"height";i:382;s:4:"type";s:5:"image";s:4:"area";i:264344;s:9:"file_path";b:0;}s:56:"http://woostuff.files.wordpress.com/2012/09/tempalte.png";a:6:{s:8:"file_url";s:56:"http://woostuff.files.wordpress.com/2012/09/tempalte.png";s:5:"width";i:367;s:6:"height";i:312;s:4:"type";s:5:"image";s:4:"area";i:114504;s:9:"file_path";b:0;}s:55:"http://woostuff.files.wordpress.com/2012/09/options.png";a:6:{s:8:"file_url";s:55:"http://woostuff.files.wordpress.com/2012/09/options.png";s:5:"width";i:782;s:6:"height";i:253;s:4:"type";s:5:"image";s:4:"area";i:197846;s:9:"file_path";b:0;}s:55:"http://woostuff.files.wordpress.com/2012/09/tagging.png";a:6:{s:8:"file_url";s:55:"http://woostuff.files.wordpress.com/2012/09/tagging.png";s:5:"width";i:670;s:6:"height";i:531;s:4:"type";s:5:"image";s:4:"area";i:355770;s:9:"file_path";b:0;}s:53:"http://woostuff.files.wordpress.com/2012/09/smart.png";a:6:{s:8:"file_url";s:53:"http://woostuff.files.wordpress.com/2012/09/smart.png";s:5:"width";i:508;s:6:"height";i:246;s:4:"type";s:5:"image";s:4:"area";i:124968;s:9:"file_path";b:0;}s:54:"http://woostuff.files.wordpress.com/2012/09/search.png";a:6:{s:8:"file_url";s:54:"http://woostuff.files.wordpress.com/2012/09/search.png";s:5:"width";i:530;s:6:"height";i:336;s:4:"type";s:5:"image";s:4:"area";i:178080;s:9:"file_path";b:0;}}s:6:"videos";a:0:{}s:11:"image_count";i:10;s:6:"author";s:7:"4008903";s:7:"blog_id";s:7:"4699413";s:9:"mod_stamp";s:19:"2012-09-04
    02:52:58";}
  _wpas_mess: ! 'Five new awesomely awesome QGIS features http://wp.me/pjIwZ-ic #qgis
    #osgeo'
  email_notification: '1346720913'
  _wpas_done_twitter: '1'
  _wpas_skip_linkedin: '1'
---
Recently there have been some great new additions to the QGIS project. Being part of such a fast moving project is a great feeling, and it's only going to get better.

This post is going to be a quick over view of some of the newer features that I really like.
<h2>HTML Annotations</h2>
Well of course I like this one, I <a href="https://github.com/qgis/Quantum-GIS/compare/cbdafbc398...5a0d2f5863">just</a> added it. The reason I added this feature was because I really wanted to way to have popup images on the map canvas for flood damage reports on roads. I also wanted it dynamic so I could use template like syntax to replace values at run time.

The HTML annotations use QtWebKit and as a result support full HTML, CSS, and Javascript. The HTML can contain a QgsExpression - the same expression used in the expression labels and layer actions - inside [% %] which is replaced at run time with the data from the underlying feature e.g. [% "roadname" %]

<a href="http://woostuff.files.wordpress.com/2012/09/roads.png"><img class="aligncenter size-full wp-image-1135" title="roads" src="http://woostuff.files.wordpress.com/2012/09/roads.png" alt="" width="630" height="631" /></a>

I'll let you think of some nice use cases for this new addition.
<h2>Project macros and non blocking notifications</h2>
This new feature comes from Giuseppe Sucameli of <a href="http://www.faunalia.it/">faunalia</a> with the work done for ARPA Piemonte.

The task was to add Python macros that run when a project is open, saved, closed. As a side effect of the task the issue of security was raise and how to notify the user that macros are going to run.  For me this was less about security and more about how to present that information to the user without annoying the crap out of them. Most of the time popup dialogs in software are a anti-pattern and are often abused for tasks like this. So knowing I would throw my computer out the window if I had to dismiss yet another dialog I suggested a less intrusive method being used a lot these days. The handy slide out notification bar. Giuseppe  was very welcoming to the idea and implemented it nicely.

<a href="http://woostuff.files.wordpress.com/2012/09/marcos.png"><img class="aligncenter size-full wp-image-1136" title="marcos" src="http://woostuff.files.wordpress.com/2012/09/marcos.png" alt="" width="630" height="143" /></a> Of course this addition can also expanded into other areas of the program. My first plan is to use it for notifying the user of plugins to failed to load.  There is nothing in QGIS that annoys more then starting and seeing this:

[caption id="attachment_1137" align="aligncenter" width="504"]<a href="http://woostuff.files.wordpress.com/2012/09/error.png"><img class="size-full wp-image-1137" title="error" src="http://woostuff.files.wordpress.com/2012/09/error.png" alt="" width="504" height="471" /></a> Dear dialog, why are you in my face![/caption]

To make matters worse if more then one plugin fails to load then I have to dismiss each dialog. So we can now use the notification bar to present it to the user in a nice non-blocking way. Something like "BTW four plugins failed to load at startup. What would you like me to do?"

Remember each time you use a blocking popup dialog it's pretty much yelling at the user "OMG GIVE ME ATTENTION!! NO YOU CAN'T KEEP WORKING! GIVE ME ATTENTION!"

I'm working on a patch  to move this stuff into the notification bar just no ETA at the moment as I'm a bit busy.
<h2>Labeling improvements</h2>
<a href="https://github.com/dakcarto">Larry Shaffer</a> has been working on some great improvements to the new labeling engine in order to make our maps look a lot more professional. Larry has been doing a lot of work in this area and is still going so I'm not going to go into all the details. However one new labeling feature that I really like is the ability to to set the  spacing between letters and words.

[caption id="attachment_1139" align="aligncenter" width="630"]<a href="http://woostuff.files.wordpress.com/2012/09/before_spacing.png"><img class="size-full wp-image-1139" title="before_spacing" src="http://woostuff.files.wordpress.com/2012/09/before_spacing.png" alt="" width="630" height="347" /></a> Before spacing[/caption]

[caption id="attachment_1140" align="aligncenter" width="630"]<a href="http://woostuff.files.wordpress.com/2012/09/spacing.png"><img class="size-full wp-image-1140" title="spacing" src="http://woostuff.files.wordpress.com/2012/09/spacing.png" alt="" width="630" height="347" /></a> With a little bit of spacing[/caption]

There is also the new ability to set the transparency of the label and the buffer.  The buffer transparency is something that I really like as sometimes you need a buffer but a solid buffer can then block out your map features; by adding a 45% transparent buffer I still have the labels pop off the map but not in your face or blocking features.  It's hard to make a picture to explain it well so you'll just have to experiment.
<h2>Project Templates</h2>
This one could be quite handy for people that make a lot of maps with the same base data. Thanks to <a href="https://github.com/etiennesky">Etienne Tourigny</a> QGIS can now load projects as a template. This means you can create a project with all your base layers, styles, labels, etc, configured and then load it by default, or from the file menu, and you will have everything setup. All you have to do is save the a normal .qgs project file in

<code>~/.qgis/project_templates</code> folder and the project will be shown in the file menu.

[caption id="attachment_1143" align="aligncenter" width="367"]<a href="http://woostuff.files.wordpress.com/2012/09/tempalte.png"><img class="size-full wp-image-1143" title="tempalte" src="http://woostuff.files.wordpress.com/2012/09/tempalte.png" alt="" width="367" height="312" /></a> Template list[/caption]

You can also set the current project as the default template:

<a href="http://woostuff.files.wordpress.com/2012/09/options.png"><img class="aligncenter size-full wp-image-1144" title="options" src="http://woostuff.files.wordpress.com/2012/09/options.png" alt="" width="633" height="204" /></a>

Handy!
<h2>Symbol Manager</h2>
And last but not least. This years GSoC student <a href="https://github.com/tecoholic">Arunmozhi</a> got the improvements he had (has) been working on included into the master build. Arun was very welcoming to any feedback that Martin and I gave him about how we would like symbol stuff to work.  Anita Graser has already covered a lot of the new features over on her <a href="http://underdark.wordpress.com/2012/08/15/introducing-the-latest-style-user-interface-improvements/">blog</a> so I'm not going to go over everything again, although one thing she didn't really touch on was the smart groups and tagging.

The tagging and smart groups are one of my favorite additions to the new symbol manager.

[caption id="attachment_1145" align="aligncenter" width="630"]<a href="http://woostuff.files.wordpress.com/2012/09/tagging.png"><img class="size-full wp-image-1145" title="tagging" src="http://woostuff.files.wordpress.com/2012/09/tagging.png" alt="" width="630" height="499" /></a> Symbol tagging[/caption]

I love this new feature as not all the symbols I create belong to a single group so the tagging and smart groups fit this bill well.  I can now tag all the council symbols with 'SDRC' and include them a SDRC smart group but at the same time tag the sewer ones with 'sewer' and they can live in the sewer style smart group; or how about all sewer symbols that are also SDRC ones:

[caption id="attachment_1146" align="aligncenter" width="508"]<a href="http://woostuff.files.wordpress.com/2012/09/smart.png"><img class="size-full wp-image-1146" title="smart" src="http://woostuff.files.wordpress.com/2012/09/smart.png" alt="" width="508" height="246" /></a> Smart group with sewer and sdrc symbols[/caption]

You can then filter by this group in the symbol selector:

[caption id="attachment_1147" align="aligncenter" width="530"]<a href="http://woostuff.files.wordpress.com/2012/09/search.png"><img class="size-full wp-image-1147" title="search" src="http://woostuff.files.wordpress.com/2012/09/search.png" alt="" width="530" height="336" /></a> Filter based on smart group[/caption]
<h2>Conclusion</h2>
I really love how fast QGIS is moving forward.  There almost isn't a week that goes by that something isn't getting done or someone is adding something new. Of course the great people on the project make this process a hell of a lot of fun and enjoyable.

Have fun experimenting! <em>(remember that these features are in the master development build and may or may not have bugs)</em>
