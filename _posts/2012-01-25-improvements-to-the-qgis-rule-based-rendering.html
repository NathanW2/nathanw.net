---
layout: post
title: Improvements to the QGIS rule based rendering
tags:
- FOSSGIS
- gis
- map-rendering
- mapping
- Open Source
- osgeo
- qgis
- Quantum GIS
- styling
status: publish
type: post
published: true
meta:
  superawesome: 'true'
  _edit_last: '4008903'
  jabber_published: '1327467263'
  reddit: a:2:{s:5:"count";s:1:"0";s:4:"time";s:10:"1335496678";}
  _wpas_done_linkedin: '1'
  _wpas_mess: Improvements to the QGIS rule based rendering
  publicize_results: a:1:{s:7:"twitter";a:1:{i:14667770;a:2:{s:7:"user_id";s:9:"madmanwoo";s:7:"post_id";s:18:"162035564491702272";}}}
  _wpas_done_twitter: '1'
  email_notification: '1327467264'
  tagazine-media: a:7:{s:7:"primary";s:60:"http://woostuff.files.wordpress.com/2012/01/rules-dialog.png";s:6:"images";a:2:{s:60:"http://woostuff.files.wordpress.com/2012/01/rules-dialog.png";a:6:{s:8:"file_url";s:60:"http://woostuff.files.wordpress.com/2012/01/rules-dialog.png";s:5:"width";s:3:"756";s:6:"height";s:3:"661";s:4:"type";s:5:"image";s:4:"area";s:6:"499716";s:9:"file_path";s:0:"";}s:53:"http://woostuff.files.wordpress.com/2012/01/rules.png";a:6:{s:8:"file_url";s:53:"http://woostuff.files.wordpress.com/2012/01/rules.png";s:5:"width";s:3:"632";s:6:"height";s:3:"517";s:4:"type";s:5:"image";s:4:"area";s:6:"326744";s:9:"file_path";s:0:"";}}s:6:"videos";a:0:{}s:11:"image_count";s:1:"2";s:6:"author";s:7:"4008903";s:7:"blog_id";s:7:"4699413";s:9:"mod_stamp";s:19:"2012-01-25
    04:54:23";}
---
The rule based rendering in QGIS has just got a make over to improve in some of the old usability issues it used to have.  Most of the improvements are UI related. If you would like to try them out you will need to grab a copy of the latest dev build (qgis-dev in OSGeo4W)

Main improvements include:
<ul>
	<li>Nested rules.  If the parent rule evaluates to false none of the child rules are applied. This replaces the priority system in the old dialog.</li>
	<li>Disable symbol for rules. Rules with no symbol only act as a check for the child rules e.g nothing is rendered for the rule but child rules still are (unless also disabled).</li>
	<li>Drag and Drop rules <em>(multi-selection is supported)</em>.  Rules can be dragged onto other rules in order to nest them and set up a rendering hierarchy.</li>
	<li>Inline editing of rule labels, expressions, scales</li>
	<li>Overall tweaks to the dialog</li>
</ul>
[caption id="attachment_908" align="aligncenter" width="630" caption="The new rule dialog"]<a href="http://woostuff.files.wordpress.com/2012/01/rules-dialog.png"><img class="size-full wp-image-908" title="rules dialog" src="http://woostuff.files.wordpress.com/2012/01/rules-dialog.png" alt="" width="630" height="550" /></a>[/caption]

As you can see in the screenshot, the rules are now organized in a tree which clearly expresses which rules should be applied and when.

In the example above, all the rules under the <strong>Sealed </strong>rule will only be applied if that rule is true. The old system would have you managing all rules in one big list and dealing with priorities in order to get the rules to apply right, the new dialog is a major improvement.

And the results! As you can see below, QGIS will only render the colored squares if the <strong>Sealed </strong>rule is true otherwise it just shows a green line.

[caption id="attachment_907" align="aligncenter" width="630" caption="The rules applied"]<a href="http://woostuff.files.wordpress.com/2012/01/rules.png"><img class="size-full wp-image-907" title="rules" src="http://woostuff.files.wordpress.com/2012/01/rules.png" alt="" width="630" height="515" /></a>[/caption]

The work was sponsored by Ville de Morges, Switzerland and developed by Martin Dobias.  Thanks to both of them for these improvements.

More info:
<ul>
	<li>See Martin's notes for a more detailed breakdown, and maybe some future stuff to come, of the improvements  <a href="http://lists.osgeo.org/pipermail/qgis-developer/2012-January/017909.html">http://lists.osgeo.org/pipermail/qgis-developer/2012-January/017909.html</a></li>
</ul>
<strong>Note:</strong> As this is a brand new feature there might be some bugs, or things that don't quite work as expected. If you do find something don't hesitate to file a bug report at hub.qgis.org so it can be fixed, or at least known about.
